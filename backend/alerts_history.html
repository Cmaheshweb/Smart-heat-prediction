<!DOCTYPE html>
<html>
<head>
<meta http-equiv="refresh" content="10">
<title>Alert History</title>

<style>
body{background:#020617;color:#e5e7eb;font-family:Arial;padding:20px}
.alert{
  background:#111827;padding:14px;margin-bottom:10px;
  border-left:6px solid #ef4444;border-radius:8px
}
.GREEN{border-color:#4ade80}
.YELLOW{border-color:#fde047}
.ORANGE{border-color:#fb923c}
.RED{border-color:#f87171}
.CRITICAL{border-color:#ef4444}
</style>
</head>

<body>
<h1>ðŸš¨ Alert History</h1>
<div id="alerts">Loading...</div>

<script>
fetch('/api/alerts/history')
.then(r=>r.json())
.then(d=>{
  let html='';
  d.alerts.forEach(a=>{
    html+=`
      <div class="alert ${a.severity}">
        <b>${a.state}</b> | HIT ${a.hit}%<br>
        Severity: ${a.severity}<br>
        Time: ${a.time}
      </div>`;
  });
  document.getElementById('alerts').innerHTML =
    html || '<p>No alerts yet</p>';
});
</script>
</body>
</html>